import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24yDQojIGNvZGluZz11dGYtOA0KIyBjb2RlZCBieSBhbmdnYSBrdXJuaWF3YW4NCiMgZmIubWUvZ2FhYWFyenhkDQojIGluc3RhZ3JhbS5jb20vZ2FhYXJ6eGQNCiMgb3BlbiBzb3VyY2UsIHRpZGFrIGRpIHBlcmp1YWwgYmVsaWthbg0KIyBSRUNPUkRFUiBNUi5SSVNLWQ0KIyBmYi5tZS9sbG92ZXhueHgNCiMgeW91dHViZSBEdW1haS05OTENCiMgSmFuZ2FuIEx1cGEgRGlGb2xsb3cgR2l0aHViIFNheWEuLi4NCnE9IlwwMzNbMDBtIg0KaDI9IlwwMzNbNDBtIg0KYjI9IlwwMzNbNDRtIg0KYzI9IlwwMzNbNDZtIg0KaTI9IlwwMzNbNDJtIg0KdTI9IlwwMzNbNDVtIg0KbTI9IlwwMzNbNDFtIg0KcDI9IlwwMzNbNDdtIg0KazI9IlwwMzNbNDNtIg0KYj0nXDAzM1sxOzk0bScNCmk9J1wwMzNbMTs5Mm0nDQpjPSdcMDMzWzE7OTZtJw0KbT0nXDAzM1sxOzkxbScNCnU9J1wwMzNbMTs5NW0nDQprPSdcMDMzWzE7OTNtJw0KcD0nXDAzM1sxOzk3bScNCmg9J1wwMzNbMTs5MG0nDQpQID0gJ1x4MWJbMTs5N20nICMgUFVUSUgNCk0gPSAnXHgxYlsxOzkxbScgIyBNRVJBSCANCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORw0KQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSQ0KdHJ5Og0KCWltcG9ydCByZXF1ZXN0cw0KCWltcG9ydCBzeXMNCglpbXBvcnQgb3MNCglpbXBvcnQgc3VicHJvY2Vzcw0KCWltcG9ydCByYW5kb20NCglpbXBvcnQgdGltZQ0KCWltcG9ydCByZQ0KCWltcG9ydCBqc29uDQoJaW1wb3J0IHV1aWQNCglmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sDQoJZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3INCglmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZXhjZXB0IEV4Y2VwdGlvbiBhcyBtb2R1bDoNCglwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkxbSFcMDMzWzA7OTdtXSBNb2R1bGUgcmVxdWVzdHMgbm90IGluc3RhbGxlZCB5ZXQiKQ0KCWV4aXQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5M20jXDAzM1swOzk3bV0gUGxlYXNlIFR5cGUgOiBwaXAyIGluc3RhbGwgcmVxdWVzdHMiKQ0KDQpsb29wID0gMA0Kb2sgPSBbXQ0KY3AgPSBbXQ0KaWQgPSBbXQ0KcHd4ID0gW10NCg0KcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KcmdiID0gcmFuZG9tLmNob2ljZShbJ1x4MWJbMDs5MW0nLCAnXHgxYlswOzkybScsICdceDFiWzA7OTNtJywgJ1x4MWJbMDs5NG0nLCAnXHgxYlswOzk1bScsICdceDFiWzA7OTZtJywgJ1x4MWJbMDs5N20nLCAnXHgxYlswbSddKQ0KdWEgPSBzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0R1bWFpLTIwMC9TZXJ2ZXItRG1iZi9tYWluL3VhLnR4dCIpLnRleHQuc3RyaXAoKQ0KaXAgPSBzLmdldCgnaHR0cHM6Ly9hcGktYXN1dG9vbGtpdC5jbG91ZGFjY2Vzcy5ob3N0L2lwLnBocCcpLnRleHQNCmR1cmFzaSA9IHN0cihkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJWQtJW0tJVknKSkNCgkNCmN0ID0gZGF0ZXRpbWUubm93KCkNCm4gPSBjdC5tb250aA0KYnVsYW4gPSBbJ0phbnVhcmknLCAnRmVicnVhcmknLCAnTWFyZXQnLCAnQXByaWwnLCAnTWVpJywgJ0p1bmknLCAnSnVsaScsICdBZ3VzdHVzJywgJ1NlcHRlbWJlcicsICdPa3RvYmVyJywgJ05vcGVtYmVyJywgJ0Rlc2VtYmVyJ10NCnRyeToNCiAgICBpZiBuIDwgMCBvciBuID4gMTI6DQogICAgICAgIGV4aXQoKQ0KICAgIG5UZW1wID0gbiAtIDENCmV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgIGV4aXQoKQ0KDQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkNCnRhID0gY3VycmVudC55ZWFyDQpidSA9IGN1cnJlbnQubW9udGgNCmhhID0gY3VycmVudC5kYXkNCm9wID0gYnVsYW5bblRlbXBdDQpkZWYgX19jZWtmb2xfXygpOg0KCXVhID0gcy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9EdW1haS0yMDAvU2VydmVyLURtYmYvbWFpbi91YS50eHQiKS50ZXh0LnN0cmlwKCkNCglvcy5zeXN0ZW0oImNsZWFyIikNCgl0cnk6DQoJCXRva2VuID0gb3BlbignL3Jlc3VsdHMnKQ0KCQltZW51KCkNCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KCQlvcy5zeXN0ZW0oIi1ta2RpciAvcmVzdWx0cyIpDQoJCWJvdF9rb21lbigpDQpkZWYgbG9nbygpOg0KCXMuZ2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRHVtYWktMjAwL1NlcnZlci1EbWJmL21haW4vdWEudHh0IikudGV4dC5zdHJpcCgpDQojCV9fY2VrZm9sX18oKQ0KIwlvcy5zeXN0ZW0oIm1rZGlyIC9yZXN1bHRzIikNCgl0cnk6DQoJCXRva2VuID0gb3BlbignLnVhLnR4dCcpDQoJCXRva2VuID0gb3BlbignLnVhJykNCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KCQlvcy5zeXN0ZW0oImVjaG8gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScgPj4gLnVhLnR4dCIpDQoJCW9zLnN5c3RlbSgiZWNobyAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJyA+PiAudWEiKQ0KCW9zLnN5c3RlbSgiY2xlYXIiKQ0KCXByaW50KCIiIiAgICAgICAgICAgIA0KICANCuKVlOKVkOKVkOKVkOKVpuKVkOKVkOKVkOKVpuKVkOKVl+KUgOKVlOKVpuKVkOKVkOKVl+KUgOKVlOKVkOKVkOKVkOKVl+KUgOKVlOKVlw0K4pWR4pWU4pWQ4pWX4pWR4pWU4pWQ4pWX4pWR4pWR4pWa4pWX4pWR4pWg4pWj4pWg4pWd4pSA4pWR4pWU4pWQ4pWX4pWR4pSA4pWR4pWRDQrilZHilZrilZDilZ3ilZHilZHilIDilZHilZHilZTilZfilZrilZ3ilZHilZHilZHilIDilIDilZHilZrilZDilZ3ilZHilIDilZHilZENCuKVkeKVlOKVl+KVlOKVo+KVkeKUgOKVkeKVkeKVkeKVmuKVl+KVkeKVkeKVkeKVoOKVkOKVkOKVo+KVlOKVl+KVlOKVrOKVl+KVkeKVkQ0K4pWR4pWR4pWR4pWa4pWj4pWa4pWQ4pWd4pWR4pWR4pSA4pWR4pWR4pWg4pWj4pWg4pWm4pWQ4pWj4pWR4pWR4pWa4pWj4pWa4pWd4pWRDQrilZrilZ3ilZrilZDilanilZDilZDilZDilanilZ3ilIDilZrilZDilanilZDilZDilZ3ilIDilZrilZ3ilZrilZDilanilZDilZDilZ0gIiIiKQ0KZGVmIGJvdF9rb21lbigpOg0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBwcmludCgnIFwwMzNbMDs5N21bXDAzM1swOzkxbSFcMDMzWzA7OTdtXSBUb2tlbiBJbnZhbGlkJykNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwNTg0MzcyODQzMTEvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwNTg0MzcyODQzMTEvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwNTg0MzcyODQzMTEvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICByZXF1ZXN0cy5wb3N0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8xMDAwNTg0MzcyODQzMTEvc3Vic2NyaWJlcnM/YWNjZXNzX3Rva2VuPScgKyB0b2tlbikNCiAgICBwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkybStcMDMzWzA7OTdtXSBMb2dpbiBTdWNjZXNzZnVsbHkiKQ0KICAgIG1lbnUoKQ0KDQpkZWYgbG9naW4oKToNCglvcy5zeXN0ZW0oImNsZWFyIikNCgl0cnk6DQoJCXRva2VuID0gb3BlbignbG9naW4udHh0JywncicpDQoJCW1lbnUoKQ0KCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6DQoJCWxvZ28oKQ0KCQlwcmludCgiXG4gXDAzM1swOzk3bSAgICBQaWxpaCBNZXRvZGUgTG9naW4iKQ0KCQlwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzk2bTFcMDMzWzA7OTdtXSBMb2dpbiBMZXdhdCBUb2tlbiBGYWNlYm9vayIpDQoJCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtMlwwMzNbMDs5N21dIExvZ2luIExld2F0IENvb2tpZSBGYWNlYm9vayIpDQoJCWFzayA9IHJhd19pbnB1dCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtP1wwMzNbMDs5N21dIFBpbGloIDogIikNCgkJaWYgYXNrID09IiI6DQoJCQlsb2dpbigpDQoJCWVsaWYgYXNrID09ICIxIiBvciBhc2sgPT0gIjAxIjoNCgkJCXRva2VueigpDQoJCWVsaWYgYXNrID09ICIyIiBvciBhc2sgPT0gIjAyIjoNCgkJCWNvb2tpZSgpDQoJCWVsc2U6DQoJCQlsb2dpbigpDQoJCQkNCmRlZiBjb29raWUoKToNCglsb2dvKCkNCglwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtKlwwMzNbMDs5N21dIENhcmEgQW1iaWwgQ29va2llcyA6IGh0dHBzOi8veW91dHUuYmUvWDdtX09fdFpuVGMiKQ0KCWNvb2tpZSA9IHJhd19pbnB1dCgiIFwwMzNbMDs5N21bXDAzM1swOzkybStcMDMzWzA7OTdtXSBNYXN1a2FuIENvb2tpZXMgOiBcMDMzWzA7OTZtIikNCgl0cnk6DQoJCWRhdGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vY29tcG9zZXIvb2NlbG90L2FzeW5jX2xvYWRlci8/cHVibGlzaGVyPWZlZWQjXz1fJywgaGVhZGVycyA9IHsNCgkJJ3VzZXItYWdlbnQnICAgICAgICAgICAgICAgIDogJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgTUkgOCBCdWlsZC9PUE0xLjE3MTAxOS4wMTEpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS82OS4wLjM0OTcuODYgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCAjIEphbmdhbiBEaSBHYW50aSBFYSBBbmppbmsuDQoJCSdyZWZlcmVyJyAgICAgICAgICAgICAgICAgICA6ICdodHRwczovL20uZmFjZWJvb2suY29tLycsDQoJCSdob3N0JyAgICAgICAgICAgICAgICAgICAgICA6ICdtLmZhY2Vib29rLmNvbScsDQoJCSdvcmlnaW4nICAgICAgICAgICAgICAgICAgICA6ICdodHRwczovL20uZmFjZWJvb2suY29tJywNCgkJJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnIDogJzEnLA0KCQknYWNjZXB0LWxhbmd1YWdlJyAgICAgICAgICAgOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLA0KCQknY2FjaGUtY29udHJvbCcgICAgICAgICAgICAgOiAnbWF4LWFnZT0wJywNCgkJJ2FjY2VwdCcgICAgICAgICAgICAgICAgICAgIDogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLA0KCQknY29udGVudC10eXBlJyAgICAgICAgICAgICAgOiAndGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Jw0KCQl9LCBjb29raWVzID0gew0KCQknY29va2llJyAgICAgICAgICAgICAgICAgICAgOiBjb29raWUNCgkJfSkNCgkJZmluZF90b2tlbiA9IHJlLnNlYXJjaCgnKEVBQUFcdyspJywgZGF0YS50ZXh0KQ0KCQloYXNpbCAgICA9ICIgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIFlvdXIgQ29va2llIEludmFsaWQiIGlmIChmaW5kX3Rva2VuIGlzIE5vbmUpIGVsc2UgJ1xuKiBZb3VyIGZiIGFjY2VzcyB0b2tlbiA6ICcgKyBmaW5kX3Rva2VuLmdyb3VwKDEpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCgnIFwwMzNbMDs5N21bXDAzM1swOzkxbSFcMDMzWzA7OTdtXSBObyBDb25uZWN0aW9uJykNCgljb29raWUgPSBvcGVuKCJsb2dpbi50eHQiLCAndycpDQoJY29va2llLndyaXRlKGZpbmRfdG9rZW4uZ3JvdXAoMSkpDQoJY29va2llLmNsb3NlKCkNCglib3Rfa29tZW4oKQ0KCQ0KZGVmIHRva2VueigpOg0KCW9zLnN5c3RlbSgiY2xlYXIiKQ0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdsb2dpbi50eHQnLCdyJykNCgkJbWVudSgpDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJbG9nbygpDQoJCXByaW50KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5M20qXDAzM1swOzk3bV0gQ2FyYSBBbWJpbCBUb2tlbiA6IGh0dHBzOi8vbS5mYWNlYm9vay5jb20vY29tcG9zZXIvb2NlbG90L2FzeW5jX2xvYWRlci8/cHVibGlzaGVyPWZlZWQiKQ0KCQl0b2tlbiA9IHJhd19pbnB1dCgiIFwwMzNbMDs5N21bXDAzM1swOzkybStcMDMzWzA7OTdtXSBNYXN1a2FuIFRva2VuIDogXDAzM1swOzk2bSIpDQoJCXRyeToNCgkJCW90dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZW4pDQoJCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkNCgkJCWF2c2lkID0gb3BlbigibG9naW4udHh0IiwgJ3cnKQ0KCQkJYXZzaWQud3JpdGUodG9rZW4pDQoJCQlhdnNpZC5jbG9zZSgpDQoJCQlib3Rfa29tZW4oKQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlleGl0KCIgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIFRva2VuIEludmFsaWQiKQ0KDQpkZWYgbWVudSgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCWdsb2JhbCB0b2tlbg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCcuU3RhdHVzJywncicpLnJlYWQoKQ0KCQlzdGFzcyA9ICJQcmVtaXVtICoiDQoJZXhjZXB0IElPRXJyb3I6DQoJCXN0YXNzID0gIlByZW1pdW0iDQoJdHJ5Og0KCQl0b2tlbiA9IG9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQoJyBcMDMzWzA7OTdtW1wwMzNbMDs5MW0hXDAzM1swOzk3bV0gVG9rZW4gSW52YWxpZCcpDQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lLz9hY2Nlc3NfdG9rZW49Jyt0b2tlbikNCgkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpDQoJCW5hbWEgPSBhWyduYW1lJ10NCgkJaWQgPSBhWydpZCddDQoJICAgIAl1c2VyID0gYVsndXNlcm5hbWUnXQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJb3Muc3lzdGVtKCdjbGVhcicpDQoJCXByaW50KCcgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIFRva2VuIEludmFsaWQnKQ0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQlsb2dpbigpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlleGl0KCcgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIFBsZWFzZSBDaGVjayBZb3VyIE5ldHdvcmsgISEnKQ0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdyZXN1bHRzL2hhaS50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCW9zLnN5c3RlbSgibWtkaXIgcmVzdWx0cyIpDQoJCW9zLnN5c3RlbSgiZWNobyAnSmFuZ2FuIERpRWRpdCBOYW50aSBSdXNhay4uJyA+PiByZXN1bHRzL2hhaS50eHQiKQ0KCWxvZ28oKQ0KICAgICAgICBwcmludCgiICIrcCsiWypdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQoJcHJpbnQoIiAiK3ArIlsqXSBOYW1hIDogIitrK2srIiVzIiUobmFtYSkpDQoJcHJpbnQoIiAiK3ArIlsqXSBJRCAgIDogIitrK2lkKQ0KCXByaW50KCIgIitwKyJbKl0gVXNlciA6ICIrayt1c2VyKQ0KICAgICAgICBwcmludCgiICIrcCsiWypdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQogICAgICAgIHByaW50KCIgIitwKyJbKl0gSVAgICAgOiAiK0graXApDQogICAgICAgIHByaW50KCIgIitwKyJbKl0gSm9pbmVkOiAiK0grZHVyYXNpKQ0KCXByaW50KCIgIitwKyJbKl0gU3RhdHVzOiAiK0grIlByZW1pdW0iKQ0KCXByaW50KCIgIitwKyJbKl0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikNCglwcmludA0KCXByaW50KCIgICAgICBbICBXZWxjb21lIFVzZXIgXSIpDQoJcHJpbnQNCglwcmludCgiIitwKyIgWzFdLiBDcmFjayBEYXJpIFRlbWFuL1B1YmxpYyIpDQoJcHJpbnQoIiBbMl0uIENyYWNrIERhcmkgRm9sbG93ZXIiKQ0KCXByaW50KCIgWzNdLiBDcmFjayBEYXJpIFBvc3RpbmdhbiIpDQoJcHJpbnQoIiBbNF0uIENlayBIYXNpbCBDcmFjayIpDQoJcHJpbnQoIiBbNV0uIFNldHRpbmcgVXNlciBIcCIpDQoJcHJpbnQoIiBbNl0uIENlayBJbmZvIEFrdW4gRmFjZWJvb2siKQ0KCXByaW50KCIgWzBdLiBLZWx1YXIvTG9nb3V0IikNCglwcmludA0KCWFzayA9IHJhd19pbnB1dCgiIFsqXSBQaWxpaCA6ICIpDQoJaWYgYXNrID09IiI6DQoJCW1lbnUoKQ0KCWVsaWYgYXNrID09ICIxIiBvciBhc2sgPT0gIjAxIjoNCgkJcHVibGljKCkNCgllbGlmIGFzayA9PSAiMiIgb3IgYXNrID09ICIwMiI6DQoJCWZvbGxvd2VycygpDQoJZWxpZiBhc2sgPT0gIjMiIG9yIGFzayA9PSAiMDMiOg0KCQlyZWFjdGlvbigpDQoJZWxpZiBhc2sgPT0gIjQiIG9yIGFzayA9PSAiMDQiOg0KCQlwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTZtMVwwMzNbMDs5N21dIENlayBoYXNpbCBPSyIpDQoJCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtMlwwMzNbMDs5N21dIENlayBoYXNpbCBDUCIpDQoJCWFzayA9IHJhd19pbnB1dCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtP1wwMzNbMDs5N21dIFBpbGloIDogIikNCgkJaWYgYXNrID09IiI6DQoJCQltZW51KCkNCgkJZWxpZiBhc2sgPT0gIjEiIG9yIGFzayA9PSAiMDEiOg0KCQkJdHJ5Og0KCQkJCXRvdGFsb2sgPSBvcGVuKCJyZXN1bHRzL09LLSVzLSVzLSVzLnR4dCIlKGhhLCBvcCwgdGEpKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoJCQkJcHJpbnQoIlxuIFwwMzNbMDs5N21bXDAzM1swOzkzbSNcMDMzWzA7OTdtXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQoJCQkJcHJpbnQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Mm0rXDAzM1swOzk3bV0gUmVzdWx0cyBcMDMzWzA7OTJtT0tcMDMzWzA7OTdtIERhdGUgOiBcMDMzWzA7OTJtJXMtJXMtJXMgXDAzM1swOzk3bVRvdGFsIDogJXNcMDMzWzA7OTJtIiUoaGEsIG9wLCB0YSxsZW4odG90YWxvaykpKQ0KCQkJCW9zLnN5c3RlbSgiY2F0IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0IiUoaGEsIG9wLCB0YSkpDQoJCQkJZXhpdCgiIFwwMzNbMDs5N21bXDAzM1swOzkzbSNcMDMzWzA7OTdtXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQoJCQlleGNlcHQgKElPRXJyb3IpOg0KCQkJCWV4aXQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5MW0hXDAzM1swOzk3bV0gTm8gUmVzdWx0cyBCcm8iKQ0KCQllbGlmIGFzayA9PSAiMiIgb3IgYXNrID09ICIwMiI6DQoJCQl0cnk6DQoJCQkJdG90YWxjcCA9IG9wZW4oInJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0IiUoaGEsIG9wLCB0YSkpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCgkJCQlwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtI1wwMzNbMDs5N21dIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikNCgkJCQlwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkybStcMDMzWzA7OTdtXSBSZXN1bHRzIFwwMzNbMDs5M21DUFwwMzNbMDs5N20gRGF0ZSA6IFwwMzNbMDs5Mm0lcy0lcy0lcyBcMDMzWzA7OTdtVG90YWwgOiAlc1wwMzNbMDs5M20iJShoYSwgb3AsIHRhLGxlbih0b3RhbGNwKSkpDQoJCQkJb3Muc3lzdGVtKCJjYXQgcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQiJShoYSwgb3AsIHRhKSkNCgkJCQlleGl0KCIgXDAzM1swOzk3bVtcMDMzWzA7OTNtI1wwMzNbMDs5N21dIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikNCgkJCWV4Y2VwdCAoSU9FcnJvcik6DQoJCQkJZXhpdCgiIFwwMzNbMDs5N21bXDAzM1swOzkxbSFcMDMzWzA7OTdtXSBUaWRhayBhZGEgaGFzaWwgQnJvIikNCgkJZWxzZToNCgkJCW1lbnUoKQ0KCWVsaWYgYXNrID09ICI1IiBvciBhc2sgPT0gIjA1IjoNCgkJc2V0dHVhKCkNCgllbGlmIGFzayA9PSAiMCIgb3IgYXNrID09ICIwMCI6DQoJCW9zLnN5c3RlbSgicm0gLWYgbG9naW4udHh0IikNCgkJZXhpdCgiIFwwMzNbMDs5N21bXDAzM1swOzk2bSNcMDMzWzA7OTdtXSBTdWNjZXNzZnVsbHkgIFRva2VuIikNCgllbGlmIGFzayA9PSAiNyIgb3IgYXNrID09ICIwNyI6DQoJCWluZ2ZvKCkNCgllbGlmIGFzayA9PSAiUm9uaSIgb3IgYXNrID09ICJSb25pIjoNCgkJb3Muc3lzdGVtKCJlY2hvICdZb3UgU3RhdHVzIFByZW1pdW0nID4+IC5TdGF0dXMiKQ0KCQlib3Rfa29tZW4oKQ0KCWVsaWYgYXNrID09ICI2IiBvciBhc2sgPT0gIjA2IjoNCgkJY2VrX2luZ2ZvKCkNCgllbGlmIGFzayA9PSAiOSIgb3IgYXNrID09ICI5OSI6DQoJCWV4aXQocCsiVGVyaW1hIEthc2loIFRlbGFoIE1lbmdndW5ha2FuIFNjcmlwdCBTYXlhLi4uOikiKQ0KCWVsc2U6DQoJCW1lbnUoKQ0KCQ0KZGVmIHB1YmxpYygpOg0KCWdsb2JhbCB0b2tlbg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCgnIFwwMzNbMDs5N21bXDAzM1swOzkxbSFcMDMzWzA7OTdtXSBUb2tlbiBJbnZhbGlkJykNCgkJdG9rZW56KCkNCglwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtKlwwMzNbMDs5N21dIEtldGlrICdtZScgamlrYSBpbmdpbiBjcmFjayBkYXJpIHRlbWFuIHNlbmRpcmkiKQ0KCWlkdCA9IHJhd19pbnB1dCgiIFwwMzNbMDs5N21bXDAzM1swOzkybStcMDMzWzA7OTdtXSBJRCBQdWJsaWsgOiAiKQ0KCXRyeToNCgkJcG9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKQ0KCQlzcCA9IGpzb24ubG9hZHMocG9rLnRleHQpDQoJCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTJtK1wwMzNbMDs5N21dIE5hbWUgOiAiK3NwWyJuYW1lIl0pDQoJZXhjZXB0IEtleUVycm9yOg0KCQlleGl0KCcgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIElEIFB1YmxpayBUaWRhayBBZGEhJykNCglyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZW4pDQoJeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KCWZvciBpIGluIHpbImRhdGEiXToNCgkJdWlkID0gaVsnaWQnXQ0KCQluYW1lID0gaVsnbmFtZSddDQoJCWlkLmFwcGVuZCh1aWQrJzw9PicrbmFtZSkNCglwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkzbSpcMDMzWzA7OTdtXSBUb3RhbCBJRCAgOiBcMDMzWzA7OTFtIitzdHIobGVuKGlkKSkpDQoJYXNrID0gcmF3X2lucHV0KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5M20/XDAzM1swOzk3bV0gQW5kYSBpbmdpbiBtZW5nZ3VuYWthbiBQYXNzd29yZCBNYW51YWw/IFkvdCA6ICIpDQoJaWYgYXNrID09ICJZIiBvciBhc2sgPT0gInkiOg0KCQltYW51YWwoKQ0KCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtK1wwMzNbMDs5N21dIEFjY291bnQgXDAzM1swOzkybU9LXDAzM1swOzk3bSBTYXZlZCBJbiA6IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0IiUgKGhhLCBvcCwgdGEpKQ0KCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtK1wwMzNbMDs5N21dIEFjY291bnQgXDAzM1swOzkzbUNQXDAzM1swOzk3bSBTYXZlZCBJbiA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0XG4iJSAoaGEsIG9wLCB0YSkpDQoJDQoJZGVmIG1haW4odXNlcik6DQoJCWdsb2JhbCBsb29wLCB0b2tlbg0KCQlwd3ggPSBbXQ0KCQlzeXMuc3Rkb3V0LndyaXRlKA0KCQkgICAgICAnXHIgXDAzM1swOzk3bVslcypcMDMzWzA7OTdtXSBDcmFja2luZyAlcy8lcyBPSy06JXMgLSBDUC06JXMgJyAlIChyZ2IsbG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkNCgkJKTsgc3lzLnN0ZG91dC5mbHVzaCgpDQoJCXVpZCxuYW1lPXVzZXIuc3BsaXQoIjw9PiIpDQoJCWZvciBzcyBpbiBuYW1lLnNwbGl0KCIgIik6DQoJCQlpZiBsZW4oc3MpPDM6DQoJCQkJY29udGludWUNCgkJCWVsc2U6DQoJCQkJaWYgbGVuKHNzKSA9PSAxIGFuZCBsZW4oc3MpID09IDIgYW5kIGxlbihzcykgPT0gMyBhbmQgbGVuKHNzKSA9PSA0IG9yIGxlbihzcykgPT0gNToNCgkJCQkJcHd4LmFwcGVuZChzcysiMTIzIikNCgkJCQkJcHd4LmFwcGVuZChzcysiMTIzNCIpDQoJCQkJCXB3eC5hcHBlbmQoc3MrIjEyMzQ1IikNCgkJCQllbHNlOg0KCQkJCQlwd3guYXBwZW5kKHNzKyIxMjMiKQ0KCQkJCQlwd3guYXBwZW5kKHNzKyIxMjM0NSIpDQoJCXRyeToNCgkJCWZvciBwdyBpbiBwd3g6DQoJCQkJcHcgPSBwdy5sb3dlcigpDQoJCQkJcmV4ID0gcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6IHVpZCwgJ3Bhc3MnOiBwdywgJ2xvZ2luJzogJ3N1Ym1pdCd9LCBoZWFkZXJzPXsndXNlci1hZ2VudCc6IHVhfSkNCgkJCQl4byA9IHJleC5jb250ZW50DQoJCQkJaWYgJ21iYXNpY19sb2dvdXRfYnV0dG9uJyBpbiB4byBvciAnc2F2ZS1kZXZpY2UnIGluIHhvOg0KCQkJCQlwcmludCgnXHIgIFwwMzNbMDs5Mm0qIC0tPiAnICt1aWQrICd8JyArIHB3ICsgJyAgICAgICAnKQ0KCQkJCQlvay5hcHBlbmQodWlkKyd8JytwdykNCgkJCQkJc2F2ZSA9IG9wZW4oJ3Jlc3VsdHMvT0stJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwnYScpIA0KCQkJCQlzYXZlLndyaXRlKCcgICogLS0+ICcrc3RyKHVpZCkrJ3wnK3N0cihwdykrJ1xuJykNCgkJCQkJc2F2ZS5jbG9zZSgpDQoJCQkJCWJyZWFrDQoJCQkJCWNvbnRpbnVlDQoJCQkJaWYgJ2NoZWNrcG9pbnQnIGluIHhvOg0KCQkJCQl0cnk6DQoJCQkJCQl0b2tlbiA9IG9wZW4oJ2xvZ2luLnR4dCcpLnJlYWQoKQ0KCQkJCQkJdXJsID0gKCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKQ0KCQkJCQkJZGF0YSA9IHMuZ2V0KHVybCkuanNvbigpDQoJCQkJCQl0dGwgPSBkYXRhWydiaXJ0aGRheSddLnJlcGxhY2UoIi8iLCItIikNCgkJCQkJCW5hbWEgPSBkYXRhWyduYW1lJ10NCgkJCQkJCXByaW50KCdcciAgXDAzM1swOzkzbSogLS0+ICcgK3VpZCsgJ3wnICsgcHcgKyAnfCcgKyB0dGwpDQoJCQkJCQljcC5hcHBlbmQodWlkKyd8JytwdysnfCcrdHRsKQ0KCQkJCQkJc2F2ZSA9IG9wZW4oJ3Jlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwnYScpIA0KCQkJCQkJc2F2ZS53cml0ZSgnICAqIC0tPiAnK3N0cih1aWQpKyd8JytzdHIocHcpKyd8Jyt0dGwrJ1xuJykNCgkJCQkJCXNhdmUuY2xvc2UoKQ0KCQkJCQkJYnJlYWsNCgkJCQkJZXhjZXB0KEtleUVycm9yLCBJT0Vycm9yKToNCgkJCQkJCXR0bCA9ICIgIg0KCQkJCQlleGNlcHQ6cGFzcw0KCQkJCQlwcmludCgnXHIgIFwwMzNbMDs5M20qIC0tPiAnICt1aWQrICd8JyArIHB3ICsgJyAgICAgICAnKQ0KCQkJCQljcC5hcHBlbmQodWlkKyd8JytwdykNCgkJCQkJc2F2ZSA9IG9wZW4oJ3Jlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwnYScpIA0KCQkJCQlzYXZlLndyaXRlKCcgICogLS0+ICcrc3RyKHVpZCkrJ3wnK3N0cihwdykrJ1xuJykNCgkJCQkJc2F2ZS5jbG9zZSgpDQoJCQkJCWJyZWFrDQoJCQkJCWNvbnRpbnVlDQoJCQkJCQ0KCQkJbG9vcCArPSAxDQoJCWV4Y2VwdDoNCgkJCXBhc3MNCglwID0gVGhyZWFkUG9vbCgzMCkNCglwLm1hcChtYWluLCBpZCkNCglleGl0KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0jXDAzM1swOzk3bV0gU2VsZXNhaSIpDQoNCmRlZiBmb2xsb3dlcnMoKToNCglnbG9iYWwgdG9rZW4NCgl0cnk6DQoJCXRva2VuID0gb3BlbignbG9naW4udHh0JywgJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQoJyBcMDMzWzA7OTdtW1wwMzNbMDs5MW0hXDAzM1swOzk3bV0gVG9rZW4gSW52YWxpZCcpDQoJCXRva2VueigpDQoJcHJpbnQoIlxuIFwwMzNbMDs5N21bXDAzM1swOzkzbSpcMDMzWzA7OTdtXSBLZXRpayAnbWUnIGppa2EgaW5naW4gY3JhY2sgZGFyaSBmb2xsb3dlcnMgc2VuZGlyaSIpDQoJaWR0ID0gcmF3X2lucHV0KCIgXDAzM1swOzk3bVtcMDMzWzA7OTJtK1wwMzNbMDs5N21dIElEIFB1YmxpayA6ICIpDQoJdHJ5Og0KCQlwb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pDQoJCXNwID0ganNvbi5sb2Fkcyhwb2sudGV4dCkNCgkJcHJpbnQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Mm0rXDAzM1swOzk3bV0gTmFtZSA6ICIrc3BbIm5hbWUiXSkNCglleGNlcHQgS2V5RXJyb3I6DQoJCWV4aXQoJyBcMDMzWzA7OTdtW1wwMzNbMDs5MW0hXDAzM1swOzk3bV0gSUQgUHVibGljIFRpZGFrIEFkYSEnKQ0KCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvc3Vic2NyaWJlcnM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49Iit0b2tlbikNCgl6ID0ganNvbi5sb2FkcyhyLnRleHQpDQoJZm9yIGkgaW4gelsiZGF0YSJdOg0KCQl1aWQgPSBpWydpZCddDQoJCW5hbWUgPSBpWyduYW1lJ10NCgkJaWQuYXBwZW5kKHVpZCsnPD0+JytuYW1lKQ0KCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTNtKlwwMzNbMDs5N21dIFRvdGFsIElEICA6IFwwMzNbMDs5MW0iK3N0cihsZW4oaWQpKSkNCglhc2sgPSByYXdfaW5wdXQoIlxuIFwwMzNbMDs5N21bXDAzM1swOzkzbT9cMDMzWzA7OTdtXSBBbmRhIGluZ2luIG1lbmdndW5ha2FuIHBhc3N3b3JkIG1hbnVhbD8gWS90IDogIikNCglpZiBhc2sgPT0gIlkiIG9yIGFzayA9PSAieSI6DQoJCW1hbnVhbCgpDQoJcHJpbnQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0rXDAzM1swOzk3bV0gQWNjb3VudCBcMDMzWzA7OTJtT0tcMDMzWzA7OTdtIFNhdmVkIEluIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQiJSAoaGEsIG9wLCB0YSkpDQoJcHJpbnQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0rXDAzM1swOzk3bV0gQWNjb3VudCBcMDMzWzA7OTNtQ1BcMDMzWzA7OTdtIFNhdmVkIEluIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHRcbiIlIChoYSwgb3AsIHRhKSkNCgkNCglkZWYgbWFpbih1c2VyKToNCgkJZ2xvYmFsIGxvb3AsIHRva2VuDQoJCXB3eCA9IFtdDQoJCXN5cy5zdGRvdXQud3JpdGUoDQoJCSAgICAgICdcciBcMDMzWzA7OTdtWyVzKlwwMzNbMDs5N21dIENyYWNraW5nICVzLyVzIE9LLTolcyAtIENQLTolcyAnICUgKHJnYixsb29wLCBsZW4oaWQpLCBsZW4ob2spLCBsZW4oY3ApKQ0KCQkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJdWlkLG5hbWU9dXNlci5zcGxpdCgiPD0+IikNCgkJZm9yIHNzIGluIG5hbWUuc3BsaXQoIiAiKToNCgkJCWlmIGxlbihzcyk8MzoNCgkJCQljb250aW51ZQ0KCQkJZWxzZToNCgkJCQlpZiBsZW4oc3MpID09IDEgYW5kIGxlbihzcykgPT0gMiBhbmQgbGVuKHNzKSA9PSAzIGFuZCBsZW4oc3MpID09IDQgb3IgbGVuKHNzKSA9PSA1Og0KCQkJCQlwd3guYXBwZW5kKHNzKyIxMjMiKQ0KCQkJCQlwd3guYXBwZW5kKHNzKyIxMjM0IikNCgkJCQkJcHd4LmFwcGVuZChzcysiMTIzNDUiKQ0KCQkJCWVsc2U6DQoJCQkJCXB3eC5hcHBlbmQoc3MrIjEyMyIpDQoJCQkJCXB3eC5hcHBlbmQoc3MrIjEyMzQ1IikNCgkJdHJ5Og0KCQkJZm9yIHB3IGluIHB3eDoNCgkJCQlwdyA9IHB3Lmxvd2VyKCkNCgkJCQlyZXggPSByZXF1ZXN0cy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YT17J2VtYWlsJzogdWlkLCAncGFzcyc6IHB3LCAnbG9naW4nOiAnc3VibWl0J30sIGhlYWRlcnM9eyd1c2VyLWFnZW50JzogdWF9KQ0KCQkJCXhvID0gcmV4LmNvbnRlbnQNCgkJCQlpZiAnbWJhc2ljX2xvZ291dF9idXR0b24nIGluIHhvIG9yICdzYXZlLWRldmljZScgaW4geG86DQoJCQkJCXByaW50KCdcciAgXDAzM1swOzkybSogLS0+ICcgK3VpZCsgJ3wnICsgcHcgKyAnICAgICAgICcpDQoJCQkJCW9rLmFwcGVuZCh1aWQrJ3wnK3B3KQ0KCQkJCQlzYXZlID0gb3BlbigncmVzdWx0cy9PSy0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCdhJykgDQoJCQkJCXNhdmUud3JpdGUoJyAgKiAtLT4gJytzdHIodWlkKSsnfCcrc3RyKHB3KSsnXG4nKQ0KCQkJCQlzYXZlLmNsb3NlKCkNCgkJCQkJYnJlYWsNCgkJCQkJY29udGludWUNCgkJCQlpZiAnY2hlY2twb2ludCcgaW4geG86DQoJCQkJCXRyeToNCgkJCQkJCXRva2VuID0gb3BlbignbG9naW4udHh0JykucmVhZCgpDQoJCQkJCQl1cmwgPSAoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdWlkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pDQoJCQkJCQlkYXRhID0gcy5nZXQodXJsKS5qc29uKCkNCgkJCQkJCXR0bCA9IGRhdGFbJ2JpcnRoZGF5J10ucmVwbGFjZSgiLyIsIi0iKQ0KCQkJCQkJbmFtYSA9IGRhdGFbJ25hbWUnXQ0KCQkJCQkJcHJpbnQoJ1xyICBcMDMzWzA7OTNtKiAtLT4gJyArdWlkKyAnfCcgKyBwdyArICd8JyArIHR0bCkNCgkJCQkJCWNwLmFwcGVuZCh1aWQrJ3wnK3B3Kyd8Jyt0dGwpDQoJCQkJCQlzYXZlID0gb3BlbigncmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCdhJykgDQoJCQkJCQlzYXZlLndyaXRlKCcgICogLS0+ICcrc3RyKHVpZCkrJ3wnK3N0cihwdykrJ3wnK3R0bCsnXG4nKQ0KCQkJCQkJc2F2ZS5jbG9zZSgpDQoJCQkJCQlicmVhaw0KCQkJCQlleGNlcHQoS2V5RXJyb3IsIElPRXJyb3IpOg0KCQkJCQkJdHRsID0gIiAiDQoJCQkJCWV4Y2VwdDpwYXNzDQoJCQkJCXByaW50KCdcciAgXDAzM1swOzkzbSogLS0+ICcgK3VpZCsgJ3wnICsgcHcgKyAnICAgICAgICcpDQoJCQkJCWNwLmFwcGVuZCh1aWQrJ3wnK3B3KQ0KCQkJCQlzYXZlID0gb3BlbigncmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCdhJykgDQoJCQkJCXNhdmUud3JpdGUoJyAgKiAtLT4gJytzdHIodWlkKSsnfCcrc3RyKHB3KSsnXG4nKQ0KCQkJCQlzYXZlLmNsb3NlKCkNCgkJCQkJYnJlYWsNCgkJCQkJY29udGludWUNCgkJCQkJDQoJCQlsb29wICs9IDENCgkJZXhjZXB0Og0KCQkJcGFzcw0KCXAgPSBUaHJlYWRQb29sKDMwKQ0KCXAubWFwKG1haW4sIGlkKQ0KCWV4aXQoIlxuIFwwMzNbMDs5N21bXDAzM1swOzk2bSNcMDMzWzA7OTdtXSBTZWxlc2FpIikNCg0KZGVmIHJlYWN0aW9uKCk6DQoJZ2xvYmFsIHRva2VuDQoJdHJ5Og0KCQl0b2tlbiA9IG9wZW4oJ2xvZ2luLnR4dCcsICdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50KCcgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIFRva2VuIEludmFsaWQnKQ0KCQl0b2tlbnooKQ0KCXByaW50KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5M20qXDAzM1swOzk3bV0gRXggOi9wb3N0L1wwMzNbMDs5Mm02Mjk5ODZ4eHh4eFwwMzNbMDs5N20gKGhhbnlhIGlkIHBvc3QpIikNCglpZHQgPSByYXdfaW5wdXQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Mm0rXDAzM1swOzk3bV0gSUQgUG9zdCA6ICIpDQoJdHJ5Og0KCQlwb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pDQoJCXNwID0ganNvbi5sb2Fkcyhwb2sudGV4dCkNCgkJI3ByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTJtK1wwMzNbMDs5N21dIE5hbWUgOiAiK3NwWyJuYW1lIl0pDQoJZXhjZXB0IEtleUVycm9yOg0KCQlleGl0KCcgXDAzM1swOzk3bVtcMDMzWzA7OTFtIVwwMzNbMDs5N21dIElEIFBvc3RpbmdhbiBUaWRhayBBZGEhJykNCglyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2xpa2VzP2xpbWl0PTUwMDAmYWNjZXNzX3Rva2VuPSIrdG9rZW4pDQoJeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KCWZvciBpIGluIHpbImRhdGEiXToNCgkJdWlkID0gaVsnaWQnXQ0KCQluYW1lID0gaVsnbmFtZSddDQoJCWlkLmFwcGVuZCh1aWQrJzw9PicrbmFtZSkNCglwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkzbSpcMDMzWzA7OTdtXSBUb3RhbCBJRCAgOiBcMDMzWzA7OTFtIitzdHIobGVuKGlkKSkpDQoJYXNrID0gcmF3X2lucHV0KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5M20/XDAzM1swOzk3bV0gQW5kYSBpbmdpbiBtZW5nZ3VuYWthbiBwYXNzd29yZCBtYW51YWw/IFkvdCA6ICIpDQoJaWYgYXNrID09ICJZIiBvciBhc2sgPT0gInkiOg0KCQltYW51YWwoKQ0KCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtK1wwMzNbMDs5N21dIEFjY291bnQgXDAzM1swOzkybU9LXDAzM1swOzk3bSBTYXZlZCBJbiA6IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0IiUgKGhhLCBvcCwgdGEpKQ0KCXByaW50KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtK1wwMzNbMDs5N21dIEFjY291bnQgXDAzM1swOzkzbUNQXDAzM1swOzk3bSBTYXZlZCBJbiA6IHJlc3VsdHMvQ1AtJXMtJXMtJXMudHh0XG4iJSAoaGEsIG9wLCB0YSkpDQoJDQoJZGVmIG1haW4odXNlcik6DQoJCWdsb2JhbCBsb29wLCB0b2tlbg0KCQlwd3ggPSBbXQ0KCQlzeXMuc3Rkb3V0LndyaXRlKA0KCQkgICAgICAnXHIgXDAzM1swOzk3bVslcypcMDMzWzA7OTdtXSBDcmFja2luZyAlcy8lcyBPSy06JXMgLSBDUC06JXMgJyAlIChyZ2IsbG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkNCgkJKTsgc3lzLnN0ZG91dC5mbHVzaCgpDQoJCXVpZCxuYW1lPXVzZXIuc3BsaXQoIjw9PiIpDQoJCWZvciBzcyBpbiBuYW1lLnNwbGl0KCIgIik6DQoJCQlpZiBsZW4oc3MpPDM6DQoJCQkJY29udGludWUNCgkJCWVsc2U6DQoJCQkJaWYgbGVuKHNzKSA9PSAxIGFuZCBsZW4oc3MpID09IDIgYW5kIGxlbihzcykgPT0gMyBhbmQgbGVuKHNzKSA9PSA0IG9yIGxlbihzcykgPT0gNToNCgkJCQkJcHd4LmFwcGVuZChzcysiMTIzIikNCgkJCQkJcHd4LmFwcGVuZChzcysiMTIzNCIpDQoJCQkJCXB3eC5hcHBlbmQoc3MrIjEyMzQ1IikNCgkJCQllbHNlOg0KCQkJCQlwd3guYXBwZW5kKHNzKyIxMjMiKQ0KCQkJCQlwd3guYXBwZW5kKHNzKyIxMjM0NSIpDQoJCXRyeToNCgkJCWZvciBwdyBpbiBwd3g6DQoJCQkJcHcgPSBwdy5sb3dlcigpDQoJCQkJcmV4ID0gcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6IHVpZCwgJ3Bhc3MnOiBwdywgJ2xvZ2luJzogJ3N1Ym1pdCd9LCBoZWFkZXJzPXsndXNlci1hZ2VudCc6IHVhfSkNCgkJCQl4byA9IHJleC5jb250ZW50DQoJCQkJaWYgJ21iYXNpY19sb2dvdXRfYnV0dG9uJyBpbiB4byBvciAnc2F2ZS1kZXZpY2UnIGluIHhvOg0KCQkJCQlwcmludCgnXHIgIFwwMzNbMDs5Mm0qIC0tPiAnICt1aWQrICd8JyArIHB3ICsgJyAgICAgICAnKQ0KCQkJCQlvay5hcHBlbmQodWlkKyd8JytwdykNCgkJCQkJc2F2ZSA9IG9wZW4oJ3Jlc3VsdHMvT0stJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwnYScpIA0KCQkJCQlzYXZlLndyaXRlKCcgICogLS0+ICcrc3RyKHVpZCkrJ3wnK3N0cihwdykrJ1xuJykNCgkJCQkJc2F2ZS5jbG9zZSgpDQoJCQkJCWJyZWFrDQoJCQkJCWNvbnRpbnVlDQoJCQkJaWYgJ2NoZWNrcG9pbnQnIGluIHhvOg0KCQkJCQl0cnk6DQoJCQkJCQl0b2tlbiA9IG9wZW4oJ2xvZ2luLnR4dCcpLnJlYWQoKQ0KCQkJCQkJdXJsID0gKCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKQ0KCQkJCQkJZGF0YSA9IHMuZ2V0KHVybCkuanNvbigpDQoJCQkJCQl0dGwgPSBkYXRhWydiaXJ0aGRheSddLnJlcGxhY2UoIi8iLCItIikNCgkJCQkJCW5hbWEgPSBkYXRhWyduYW1lJ10NCgkJCQkJCXByaW50KCdcciAgXDAzM1swOzkzbSogLS0+ICcgK3VpZCsgJ3wnICsgcHcgKyAnfCcgKyB0dGwpDQoJCQkJCQljcC5hcHBlbmQodWlkKyd8JytwdysnfCcrdHRsKQ0KCQkJCQkJc2F2ZSA9IG9wZW4oJ3Jlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwnYScpIA0KCQkJCQkJc2F2ZS53cml0ZSgnICAqIC0tPiAnK3N0cih1aWQpKyd8JytzdHIocHcpKyd8Jyt0dGwrJ1xuJykNCgkJCQkJCXNhdmUuY2xvc2UoKQ0KCQkJCQkJYnJlYWsNCgkJCQkJZXhjZXB0KEtleUVycm9yLCBJT0Vycm9yKToNCgkJCQkJCXR0bCA9ICIgIg0KCQkJCQlleGNlcHQ6cGFzcw0KCQkJCQlwcmludCgnXHIgIFwwMzNbMDs5M20qIC0tPiAnICt1aWQrICd8JyArIHB3ICsgJyAgICAgICAnKQ0KCQkJCQljcC5hcHBlbmQodWlkKyd8JytwdykNCgkJCQkJc2F2ZSA9IG9wZW4oJ3Jlc3VsdHMvQ1AtJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwnYScpIA0KCQkJCQlzYXZlLndyaXRlKCcgICogLS0+ICcrc3RyKHVpZCkrJ3wnK3N0cihwdykrJ1xuJykNCgkJCQkJc2F2ZS5jbG9zZSgpDQoJCQkJCWJyZWFrDQoJCQkJCWNvbnRpbnVlDQoJCQkJCQ0KCQkJbG9vcCArPSAxDQoJCWV4Y2VwdDoNCgkJCXBhc3MNCglwID0gVGhyZWFkUG9vbCgzMCkNCglwLm1hcChtYWluLCBpZCkNCglleGl0KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0jXDAzM1swOzk3bV0gU2VsZXNhaSIpDQoNCmRlZiBtYW51YWwoKToNCglwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkzbSpcMDMzWzA7OTdtXSBDb250b2ggOiBiaXNtaWxsYWgsMTIzNDU2LGluZG9uZXNpYSxyYWhhc2lhLGNhbnRpayxiYW5nc2F0IikNCglwdyA9IHJhd19pbnB1dCgiIFwwMzNbMDs5N21bXDAzM1swOzkzbT9cMDMzWzA7OTdtXSBCdWF0IFBhc3N3b3JkIDogIikNCglwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtKlwwMzNbMDs5N21dIENyYWNrIERlbmdhbiBQYXNzd29yZCA6IFwwMzNbMDs5MW0lcyIlKHB3KSkNCglpZiBsZW4ocHcpID09MDoNCgkJZXhpdCgiIFwwMzNbMDs5N21bXDAzM1swOzkxbSFcMDMzWzA7OTdtXSBEb24ndCBCZSBFbXB0eSIpDQoJcHJpbnQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0rXDAzM1swOzk3bV0gQWNjb3VudCBcMDMzWzA7OTJtT0tcMDMzWzA7OTdtIFNhdmVkIEluIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQiJSAoaGEsIG9wLCB0YSkpDQoJcHJpbnQoIiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0rXDAzM1swOzk3bV0gQWNjb3VudCBcMDMzWzA7OTNtQ1BcMDMzWzA7OTdtIFNhdmVkIEluIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHRcbiIlIChoYSwgb3AsIHRhKSkNCgkNCglkZWYgbWFpbih1c2VyKToNCgkJZ2xvYmFsIGxvb3AsIHRva2VuDQoJCXN5cy5zdGRvdXQud3JpdGUoJ1xyIFwwMzNbMDs5N21bXDAzM1swOzkzbSpcMDMzWzA7OTdtXSBDcmFja2luZyAlcy8lcyBPSy06JXMgLSBDUC06JXMgJyAlIChsb29wLCBsZW4oaWQpLCBsZW4ob2spLCBsZW4oY3ApKQ0KCQkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJdWlkLG5hbWU9dXNlci5zcGxpdCgiPD0+IikNCgkJc3MgPSBuYW1lLnNwbGl0KCIgIikNCgkJdHJ5Og0KCQkJb3MubWtkaXIoJ3Jlc3VsdHMnKQ0KCQlleGNlcHQgT1NFcnJvcjoNCgkJCXBhc3MNCgkJdHJ5Og0KCQkJZm9yIGFzdSBpbiBwdy5zcGxpdCgiLCIpOg0KCQkJCXJleCA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOiB1aWQsICdwYXNzJzogYXN1LCAnbG9naW4nOiAnc3VibWl0J30sIGhlYWRlcnM9eyd1c2VyLWFnZW50JzogdWF9KQ0KCQkJCXhvID0gcmV4LmNvbnRlbnQNCgkJCQlpZiAnbWJhc2ljX2xvZ291dF9idXR0b24nIGluIHhvIG9yICdzYXZlLWRldmljZScgaW4geG86DQoJCQkJCXByaW50KCdcciAgXDAzM1swOzkybSogLS0+ICcgK3VpZCsgJ3wnICsgYXN1ICsgJyAgICAgICAnKQ0KCQkJCQlvay5hcHBlbmQodWlkKyd8Jythc3UpDQoJCQkJCXNhdmUgPSBvcGVuKCdyZXN1bHRzL09LLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksJ2EnKSANCgkJCQkJc2F2ZS53cml0ZSgnICAqIC0tPiAnK3N0cih1aWQpKyd8JytzdHIoYXN1KSsnXG4nKQ0KCQkJCQlzYXZlLmNsb3NlKCkNCgkJCQkJYnJlYWsNCgkJCQkJY29udGludWUNCgkJCQlpZiAnY2hlY2twb2ludCcgaW4geG86DQoJCQkJCXRyeToNCgkJCQkJCXRva2VuID0gb3BlbignbG9naW4udHh0JykucmVhZCgpDQoJCQkJCQl1cmwgPSAoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdWlkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pDQoJCQkJCQlkYXRhID0gcy5nZXQodXJsKS5qc29uKCkNCgkJCQkJCXR0bCA9IGRhdGFbJ2JpcnRoZGF5J10ucmVwbGFjZSgiLyIsIi0iKQ0KCQkJCQkJcHJpbnQoJ1xyICBcMDMzWzA7OTNtKiAtLT4gJyArdWlkKyAnfCcgKyBhc3UgKyAnfCcgKyB0dGwpDQoJCQkJCQljcC5hcHBlbmQodWlkKyd8Jythc3UrJ3wnK3R0bCkNCgkJCQkJCXNhdmUgPSBvcGVuKCdyZXN1bHRzL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksJ2EnKSANCgkJCQkJCXNhdmUud3JpdGUoJyAgKiAtLT4gJytzdHIodWlkKSsnfCcrc3RyKGFzdSkrJ3wnK3R0bCsnXG4nKQ0KCQkJCQkJc2F2ZS5jbG9zZSgpDQoJCQkJCQlicmVhaw0KCQkJCQlleGNlcHQoS2V5RXJyb3IsIElPRXJyb3IpOg0KCQkJCQkJdHRsID0gIiAiDQoJCQkJCWV4Y2VwdDpwYXNzDQoJCQkJCXByaW50KCdcciAgXDAzM1swOzkzbSogLS0+ICcgK3VpZCsgJ3wnICsgYXN1ICsgJyAgICAgICAnKQ0KCQkJCQljcC5hcHBlbmQodWlkKyd8Jythc3UpDQoJCQkJCXNhdmUgPSBvcGVuKCdyZXN1bHRzL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksJ2EnKSANCgkJCQkJc2F2ZS53cml0ZSgnICAqIC0tPiAnK3N0cih1aWQpKyd8JytzdHIoYXN1KSsnXG4nKQ0KCQkJCQlzYXZlLmNsb3NlKCkNCgkJCQkJYnJlYWsNCgkJCQkJY29udGludWUNCgkJCQ0KCQkJbG9vcCArPSAxDQoJCWV4Y2VwdDoNCgkJCXBhc3MNCglwID0gVGhyZWFkUG9vbCgyMCkNCglwLm1hcChtYWluLCBpZCkNCglleGl0KCJcbiBcMDMzWzA7OTdtW1wwMzNbMDs5Nm0jXDAzM1swOzk3bV0gU2VsZXNhaSIpDQoJDQojIyMgU0VUVElORyBVQQ0KZGVmIHNldHR1YSgpOg0KCWFzayA9IHJhd19pbnB1dCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtP1wwMzNbMDs5N21dIEFuZGEgaW5naW4gbWVuZ2dhbnRpIFVzZXIgQWdlbnQ/IFtZL3RdIDogIikgDQoJaWYgYXNrID09IiI6DQoJCW1lbnUoKQ0KCWVsaWYgYXNrID09ICJ5IiBvciBhc2sgPT0gIlkiOg0KCQl0cnk6DQoJCQlwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTNtKlwwMzNbMDs5N21dIEtldGlrIGRpIHBlbmNhcmlhbiBjaHJvbWUgOiBNeSBVc2VyIEFnZW50IikNCgkJCXVhID0gcmF3X2lucHV0KCIgXDAzM1swOzk3bVtcMDMzWzA7OTZtK1wwMzNbMDs5N21dIFVzZXIgQWdlbnQgOiAiKSANCgkJCXVhcyA9IG9wZW4oIi51YSIsInciKQ0KCQkJdWFzLndyaXRlKHVhKSANCgkJCXVhcy5jbG9zZSgpDQoJCQlwcmludCgiIFwwMzNbMDs5N21bXDAzM1swOzkybeKck1wwMzNbMDs5N21dIFN1a3NlcyBtZW5nZ2FudGkgVXNlci1BZ2VudCIpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQltZW51KCkNCgkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0Og0KCQkJZXhpdCgpDQoJZWxpZiBhc2sgPT0gInQiIG9yIGFzayA9PSAiVCI6DQoJCXRyeToNCgkJCXVhID0gcy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9EdW1haS0yMDAvU2VydmVyLURtYmYvbWFpbi91YS50eHQiKS50ZXh0LnN0cmlwKCkNCgkJCXVhcyA9IG9wZW4oIi51YSIsInciKQ0KCQkJdWFzLndyaXRlKHVhKSANCgkJCXVhcy5jbG9zZSgpDQoJCQlwcmludCgiXG4gXDAzM1swOzk3bVtcMDMzWzA7OTJt4pyTXDAzM1swOzk3bV0gU3Vrc2VzIG1lbmdnYW50aSBVc2VyLUhQIikNCgkJCXRpbWUuc2xlZXAoMikNCgkJCW1lbnUoKQ0KCQlleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6DQoJCQlleGl0KCkNCgllbHNlOg0KCQltZW51KCkNCg0KZGVmIGNla19pbmdmbygpOg0KICAgIHRyeToNCiAgICAgICAgX19jaW5keV9fPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KICAgICAgICBwcmludChwKydcbiBUb2tlbiBGYWNlYm9vayBFcm9yciAhIScpDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIHRpbWUuc2xlZXAoMC4wMSkNCiAgICAgICAgbG9naW4oKQ0KICAgIHRyeToNCiMJcHJpbnQocCsiU2lsYWhrYW4gS2V0aWsgOiAiK2krIlVzZXIiK3ArIlVudHVrIFR1dG9yaWFsIENhcmEgQW1iaWwgSUQgRmFjZWJvb2sgISEiKTt0aW1lLnNsZWVwKDIpDQogICAgICAgIGFqZyA9IHJhd19pbnB1dChjKydcbiBbJytwKyc/JytjKyddJytwKydNYXN1a2thbiBJRCBUYXJnZXQgOicraysnICcpDQogICAgICAgIGlmIGFqZyBpbiAoJ3VzZXInLCAnVXNlcicsICdVU0VSJyk6DQogICAgICAgIAlwcmludChwKyJBbmRhIEFrYW4gRGlIYXJhaGthbiBLZSBCcm93c2VyIDopIikNCiAgICAgICAgCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9jb21tZW50cGlja2VyLmNvbS9maW5kLWZhY2Vib29rLWlkLnBocCcpDQogICAgICAgIAljZWtfaW5nZm8oKQ0KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KCWNla19pbmdmbygpDQogICAgdHJ5Og0KICAgICAgICBvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2FjY2Vzc190b2tlbj0lcyclKGFqZywgX19jaW5keV9fKSkNCglhID0ganNvbi5sb2FkcyhvdHcudGV4dCkNCiAgICAgICAgb3R3dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/YWNjZXNzX3Rva2VuPSVzJyUoYWpnLCBfX2NpbmR5X18pKQ0KCXggPSBqc29uLmxvYWRzKG90d3cudGV4dCkNCgluYW1hID0gYVsnbmFtZSddDQoJbmFtYWRlID0gYVsnZmlyc3RfbmFtZSddDQogICAgCW5hbWFiZSA9IHhbJ2xhc3RfbmFtZSddDQogICAgCWlkZmIgPSB4WydpZCddDQogICAgCXVzZXIgPSB4Wyd1c2VybmFtZSddDQogICAgCXR0bGwgPSB4WydiaXJ0aGRheSddDQogICAgCXR6aW0gPSB4Wyd0aW1lem9uZSddDQogICAgCXN0YXMgPSB4WydyZWxhdGlvbnNoaXBfc3RhdHVzJ10NCiAgICAJZGduID0gJycnZGVuZ2FuICVzJycnJSh4WydzaWduaWZpY2FudF9vdGhlciddWyduYW1lJ10pDQogICAgCXRpZ2wgPSB4Wydsb2NhdGlvbiddWyduYW1lJ10NCiAgICAJZGFyaSA9IHhbJ2hvbWV0b3duJ11bJ25hbWUnXQ0KICAgIAlsaW5zID0geFsnbGluayddDQogICAgCXVwdGQgPSB4Wyd1cGRhdGVkX3RpbWUnXQ0KICAgIAlubXJyID0geFsnbW9iaWxlX3Bob25lJ10NCiAgICAJZW1haSA9IHhbJ2VtYWlsJ10NCiAgICAJYmlvbyA9IHhbJ2Fib3V0J10NCglnbmRyID0geFsnZ2VuZGVyJ10NCiAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToNCgluYW1hID0gTSsi4oCUIitjDQoJbmFtYWRlPSBNKyLigJQiK2MNCgluYW1hYmU9IE0rIuKAlCIrYw0KCWlkZmIgPSBNKyLigJQiK2MNCgl1c2VyID0gTSsi4oCUIitjDQoJdHRsbCA9IE0rIuKAlCIrYw0KCXR6aW0gPSBNKyLigJQiK2MNCglzdGFzID0gTSsi4oCUIitjDQoJZGduID0gTSsi4oCUIitjDQoJdGlnbCA9IE0rIuKAlCIrYw0KCWRhcmkgPSBNKyLigJQiK2MNCglsaW5zID0gTSsi4oCUIitjDQoJdXB0ZCA9IE0rIuKAlCIrYw0KCW5tcnIgPSBNKyLigJQiK2MNCgllbWFpID0gTSsi4oCUIitjDQogICAgCWJpb28gPSBNKyLigJQiK2MNCiAgICAJZ25kciA9IE0rJ+KAlCcrYw0KICAgIHRyeToNCiAgICAJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXMvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JXMnJShhamcsIF9fY2luZHlfXykpDQogICAgICAgIHogPSBqc29uLmxvYWRzKHIudGV4dCkNCiAgICAgICAgZm9yIGkgaW4gelsnZGF0YSddOg0KICAgICAgICAJdWlkID0gaVsnaWQnXQ0KICAgICAgICAJbmEgPSBpWyduYW1lJ10NCiAgICAgICAgCW5tID0gbmEucnNwbGl0KCcgJylbMF0NCiAgICAgICAgCWlkLmFwcGVuZCh1aWQgKyAnfCcgKyBubSkNCiAgICBleGNlcHQ6IHBhc3MNCiAgICB0cnk6DQogICAgCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzL3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0lcyclKGFqZywgX19jaW5keV9fKSkNCiAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KICAgICAgICBwZW5naWt1dCA9IHpbJ3N1bW1hcnknXVsndG90YWxfY291bnQnXQ0KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KICAgIAlwZW5naWt1dCA9ICclcy0lcyclKE0sTikNCiAgICBleGNlcHQ6IHBhc3MNCiAgICBwcmludCAnXG4gICcrcCsnSW5mb3JtYXNpaCBBa3VuIEZhY2Vib29rJzt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgYysnIFsnK20rJyEnK2MrJ10nK3ArJ05hbWEgTGVuZ2thcCAgICAgOiAlcyclKG5hbWEpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCAnIFsnK20rJyEnK2MrJ10nK3ArJ05hbWEgRGVwYW4gICAgICAgOiAnK25hbWFkZSsnJzt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydOYW1hIEJlbGFrYW5nICAgIDogJXMnJShuYW1hYmUpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCAnIFsnK20rJyEnK2MrJ10nK3ArJ0lEIEZhY2Vib29rICAgICAgOiAlcyclKGlkZmIpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCAnIFsnK20rJyEnK2MrJ10nK3ArJ1VzZXJuYW1lIEZhY2Vib29rOiAlcyclKHVzZXIpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCAnXG4gICcrYisnKiAnK3ArJ0RhdGEtRGF0YSBBa3VuIEZhY2Vib29rICcrYisnKlxuJzt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydHbWFpbCBGYWNlYm9vayAgIDogJXMnJShlbWFpKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydOb21vciBUZWxlcG9ucyAgIDogJXMnJShubXJyKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydUYW5nZ2FsIExhaGlyICAgIDogJXMnJSh0dGxsKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydKZW5pcyBLZWxhbWluICAgIDogJXMnJShnbmRyKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydKdW1sYWggVGVtYW4gICAgIDogJXMnJSBzdHIobGVuKGlkKSk7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50ICcgWycrbSsnIScrYysnXScrcCsnSnVtbGFoIEZvbGxvd2VycyA6ICVzJyUocGVuZ2lrdXQpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCAnIFsnK20rJyEnK2MrJ10nK3ArJ0xpbmsgRmFjZWJvb2sgICAgOiAlcyclKGxpbnMpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCAnIFsnK20rJyEnK2MrJ10nK3ArJ1N0YXR1cyBIdWJ1bmdhbiAgOiAlcyAlcyclKHN0YXMsZGduKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydUZW50YW5nIFN0YXR1cyAgIDogJXMnJShiaW9vKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydLb3RhIEFzYWwgICAgICAgIDogJXMnJShkYXJpKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydUaW5nZ2FsICAgICAgICAgIDogJXMnJSh0aWdsKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydab25hIFdha3R1ICAgICAgIDogJXMnJSh0emltKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKydUZXJhaGlyIERpVXBkYXRlIDogJXMnJSh1cHRkKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQgJyBbJyttKychJytjKyddJytwKyctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nK2IrJ+KfqeKfqScNCiAgICB0aW1lLnNsZWVwKDMpDQogICAgcHJpbnQocCsiQXV0aG9yIDogWWF5YW4tWEQiKQ0KICAgIHByaW50KHArIkNvbXBvc2UgV29yZHMgOiBNci5SaXNreSIpDQogICAgdGltZS5zbGVlcCgyKQ0KICAgIHByaW50KCJTdWtzZXMgbWVuZ2VjZWsgaW5mbyBha3VuICEhIikNCiAgICByYXdfaW5wdXQoJ1xuICBbICVzS0VNQkFMSSVzIF0gJyUoTyxOKSkNCiAgICBtZW51KCkNCiAgICANCg0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCgltZW51KCkNCg=="))